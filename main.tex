%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Main document configuration for LiGHT reports
%
% This template supports various report types, including:
%   - MSc thesis
%   - MSc semester projects
%   - BSc thesis
%   - BSc semester projects
%
% You can also customize the report metadata, authors, and supervisors.
%
% This template was created by LiGHTer Rizhong Lin,
% adapted from a version by Mary-Anne Hartley,
% which is based on PRIMEarxiv,
% itself following the Arxiv style of George Kour
% (available at https://github.com/kourgeorge/arxiv-style).
%
% Many thanks to all contributors for making this template possible!
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% Document class with options
\documentclass[style=epfl,lab=light,reporttype=msc-thesis]{lightreport}
% Available styles (institution formatting):
%   - `epfl`: EPFL-specific formatting
% Available labs:
%   - `light`: Laboratory for Intelligent Global Health and Humanitarian Response Technologies
%   - `mlo`: Machine Learning and Optimization Laboratory
% Available report types:
%   - `msc-thesis`
%   - `msc-semester-project`
%   - `bsc-thesis`
%   - `bsc-semester-project`

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography configuration
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[
    backend=biber,      % Use biber backend for modern bibliography processing
    style=ieee,         % IEEE citation style
    citestyle=numeric-comp, % Compressed numeric citations [1-3] instead of [1,2,3]
    natbib=true,        % Enable natbib compatibility commands
    % Advanced options (uncomment as needed):
    % maxnames=999,     % Maximum number of author names to display
    % minnames=1,       % Minimum number of author names before "et al."
    % doi=false,        % Disable DOI display in bibliography
    % isbn=false,       % Disable ISBN display in bibliography
    % url=false,        % Disable URL display in bibliography
    % date=year,        % Show only year in dates
    giveninits=false,   % Show full author first names
]{biblatex}
\addbibresource{references.bib}  % Your bibliography database
\DefineBibliographyStrings{english}{andothers = {\etal\adddot}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Embed Code
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xcolor}
\usepackage{listings}

% \lstset{language=Python,keywordstyle={\bfseries \color{blue}}}
\definecolor{ctp_base}{HTML}{eff1f5}
\definecolor{ctp_text}{HTML}{4c4f69}
\definecolor{ctp_subtext0}{HTML}{6c6f85}
\definecolor{ctp_surface0}{HTML}{ccd0da}
\definecolor{ctp_blue}{HTML}{1e66f5}
\definecolor{ctp_mauve}{HTML}{8839ef}
\definecolor{ctp_green}{HTML}{40a02b}
\definecolor{ctp_maroon}{HTML}{e64553}
\definecolor{ctp_peach}{HTML}{fe640b}
\lstset{
    backgroundcolor=\color{ctp_base},
    basicstyle=\ttfamily\small\color{ctp_text},
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    commentstyle=\color{ctp_subtext0}\itshape,
    extendedchars=true,
    frame=single,
    rulecolor=\color{ctp_surface0},
    keepspaces=true,
    keywordstyle=\color{ctp_mauve}\bfseries,
    language=Python,
    numbers=left,
    numbersep=5pt,
    numberstyle=\tiny\color{ctp_subtext0},
    rulecolor=\color{ctp_surface0},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    stepnumber=1,
    stringstyle=\color{ctp_green},
    tabsize=4,
    title=\lstname,
    % Custom Highlight for Decorators and Types
    emph={self, @AutoModalityLoader, @AutoModality, register},
    emphstyle=\color{ctp_maroon},
    morekeywords={as, assert, with}
}
% \lstset{
%     backgroundcolor=\color{ctp_base},
%     basicstyle=\color{ctp_text}\ttfamily\small,
%     breakatwhitespace=false,
%     breaklines=true,
%     captionpos=b,
%     commentstyle=\color{ctp_overlay}\itshape,
%     escapeinside={\%*}{*)},
%     extendedchars=true,
%     frame=single,
%     rulecolor=\color{ctp_mauve}, % Frame color
%     frameround=tttt,
%     keywordstyle=\color{ctp_mauve}\bfseries,
%     language=Python,
%     morekeywords={self, @AutoModalityLoader.register, @AutoModality.register},
%     numbers=left,
%     numbersep=10pt,
%     numberstyle=\tiny\color{ctp_overlay},
%     showspaces=false,
%     showstringspaces=false,
%     showtabs=false,
%     stepnumber=1,
%     stringstyle=\color{ctp_green},
%     tabsize=4,
%     title=\lstname,
%     xleftmargin=15pt,
%     xrightmargin=5pt
% }
\makeatletter


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Tikz and graphs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usetikzlibrary{positioning, calc}

% Colors
\definecolor{qwen-primary}{HTML}{615CED}
\definecolor{llama-primary}{HTML}{0064E0}
\definecolor{molmo-primary}{HTML}{F0529C}
\definecolor{multimeditron-primary}{HTML}{EFCD5F}
\definecolor{apertus-primary}{HTML}{DD342F}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Report metadata
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Main title - appears on cover page and headers
\renewcommand{\reportTitle}{MultiMeditron: A robust and scalable framework for medical muldimodal models}
% Short title - appears in PDF bookmarks
\renewcommand{\reportShortTitle}{MultiMeditron}

% Optional metadata overrides (uncomment to customize)
% \renewcommand{\reportType}{MSc Semester Project Report}
\renewcommand{\reportDate}{\today}          % Full date
\renewcommand{\reportDateShort}{\shorttoday}  % Short date format
% \renewcommand{\reportLab}{Laboratory for Intelligent Global Health and Humanitarian Response Technologies}
% \renewcommand{\reportLabAbbrev}{LiGHT}
% \renewcommand{\reportInstitution}{EPFL}

% Custom citation format (uncomment and modify if needed)
% \renewcommand{\reportCitation}{Custom citation format here}

\newenvironment{absolutelynopagebreak}
  {\par\nobreak\vfil\penalty0\vfilneg
   \vtop\bgroup}
  {\par\xdef\tpd{\the\prevdepth}\egroup
   \prevdepth=\tpd}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Authors and supervisors
%
% As a rule of thumb, junior authors (students) should be listed first, ordered by
% their contribution or alphabetically if contributions are equal. They should be
% followed by senior authors (supervisors), with the most senior supervisor, typically
% the main thesis supervisor or Principal Investigator (PI) and often a professor, listed last.
% This ordering reflects the contribution hierarchy and is standard practice in academic writing.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Add students with: \addstudent{Name}{Email}{Lab}{Institution}[ORCID]
\addstudent{Michael Zhang}
          {michael.zhang@epfl.ch}
          {LiGHT}
          {EPFL}


\addsupervisor{Mary-Anne Hartley}
             {mary-anne.hartley@epfl.ch}
             {LiGHT}
             {EPFL}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document content
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
% Generate title page
\makereporttitle
\cleardoublepage

% Front matter
\input{sections/00_abstract}

\cleardoublepage

\tableofcontents
\clearpage

% Main content
\input{sections/01_introduction}
\clearpage
\input{sections/02_methods}
\clearpage
\input{sections/03_results}
\clearpage
\input{sections/04_discussion}

% A section on LaTeX basics for beginners
\clearpage
% \input{sections/latex_basics.tex}

% Back matter
%   - Acknowledgements
%   - Resource availability
%   - Ethics statements
\clearpage
\input{sections/backmatter}

% Bibliography
\clearpage
\printbibliography
\clearpage

% Appendices
\appendix
\input{sections/appendix}

\end{document}
